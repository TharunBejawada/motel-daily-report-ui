import{m as x,u as y,r as i,n as v,p as w,c as b,o as h,a as l,b as d,q as k,v as C,s as m,x as g,y as L,w as u,_ as K,d as M,t as N}from"./CWpK9PPU.js";import{_ as V}from"./BV1nIDRG.js";const B={class:"space-y-4"},D={class:"flex items-center gap-2"},$=x({__name:"index",setup(S){const p=y(),a=i(""),n=i([]),c=i(!1),_=[{key:"id",label:"ID"},{key:"motel_name",label:"Motel"},{key:"location",label:"Location"},{key:"created_at",label:"Created"}],f=v(()=>{const s=a.value.trim().toLowerCase();return s?n.value.filter(t=>{var e,o;return((e=t.motel_name)==null?void 0:e.toLowerCase().includes(s))||((o=t.location)==null?void 0:o.toLowerCase().includes(s))}):n.value});async function r(){var s,t;try{c.value=!0;const{data:e}=await p.get("/motels/list");n.value=(e==null?void 0:e.items)??e??[]}catch(e){console.error(e),alert(((t=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:t.detail)||"Failed to load motels")}finally{c.value=!1}}return w(r),(s,t)=>{const e=K;return h(),b("div",B,[t[1]||(t[1]=l("h1",{class:"text-2xl font-semibold"},"Motels",-1)),l("div",D,[k(l("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>L(a)?a.value=o:null),type:"text",placeholder:"Search motelâ€¦",class:"w-80 rounded-md border px-3 py-2 text-sm",onKeydown:g(r,["enter"])},null,544),[[C,m(a)]]),l("button",{class:"rounded-md border px-3 py-2 text-sm hover:bg-gray-50",onClick:r},"Search")]),d(V,{headers:_,rows:m(f),rowKey:o=>o.id},{"cell:motel_name":u(({row:o})=>[d(e,{to:`/motels/${o.id}`,class:"text-blue-600 hover:underline"},{default:u(()=>[M(N(o.motel_name),1)]),_:2},1032,["to"])]),_:1},8,["rows","rowKey"])])}}});export{$ as default};
